
![image](https://github.com/user-attachments/assets/046605d7-0817-4a49-a082-5f267c52f9a3)
![image](https://github.com/user-attachments/assets/dc5cfd94-9bd9-4ded-8958-5d535b2bb792)
![image](https://github.com/user-attachments/assets/5d2fcd2f-d693-4feb-8161-d6b8ad31964e)
![image](https://github.com/user-attachments/assets/de44cb33-635b-4072-a755-afedc011db09)


Basic Crud Authentication Website.

To run, Download both web and app servers and run npm install. 
run `npm run dev` on both to gt both app and webserver running.

Below are the sql statements use to get the db up and running.

CREATE DATABASE IF NOT EXISTS task_management_mandai_db;


USE task_management_mandai_db;

-- Stores basic user information. like username and password

CREATE TABLE ACCESS_MATRIX (
    ACCESS_ID INT AUTO_INCREMENT PRIMARY KEY,
    USERNAME VARCHAR(255) NOT NULL UNIQUE,
    PW_HASH VARCHAR(255) NOT NULL, -- To store hashed passwords
    EMAIL VARCHAR(255) UNIQUE,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- This is the table to define all the different roles that can be tagged to the user.


CREATE TABLE ACCESS_MATRIX_ROLES (
    ROLE_ID INT AUTO_INCREMENT PRIMARY KEY,
    ROLE_NAME VARCHAR(100) NOT NULL UNIQUE, -- e.g., 'Admin', 'Editor', 'Viewer'
    DESCRIPTION TEXT,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP 
);

-- This is the table to define all the different permissions that can be tagged to the role.


CREATE TABLE ACCESS_MATRIX_PERMISSIONS (
    PERMISSION_ID INT AUTO_INCREMENT PRIMARY KEY,
    PERMISSION_NAME VARCHAR(100) NOT NULL UNIQUE, 
    DESCRIPTION TEXT,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP 
);

-- This is the table to link the user and roles together.


CREATE TABLE ACCESS_MATRIX_USR_ROLES (
    USER_ROLE_ID INT AUTO_INCREMENT PRIMARY KEY,
    ACCESS_ID INT NOT NULL,
    ROLE_ID INT NOT NULL,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, 
    CONSTRAINT FK_user_roles_user FOREIGN KEY (ACCESS_ID) REFERENCES ACCESS_MATRIX(ACCESS_ID) ON DELETE CASCADE,
    CONSTRAINT FK_user_roles_role FOREIGN KEY (ROLE_ID) REFERENCES ACCESS_MATRIX_ROLES(ROLE_ID) ON DELETE CASCADE,
    UNIQUE (ACCESS_ID, ROLE_ID)
);

-- This is the table to link the user and roles together.


CREATE TABLE ACCESS_MATRIX_ROLE_PERMS (
    ROLE_PERMISSION_ID INT AUTO_INCREMENT PRIMARY KEY,
    ROLE_ID INT NOT NULL,
    PERMISSION_ID INT NOT NULL,
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, -- Updated to only UPDATED_AT
    CONSTRAINT FK_role_permissions_role FOREIGN KEY (ROLE_ID) REFERENCES ACCESS_MATRIX_ROLES(ROLE_ID) ON DELETE CASCADE,
    CONSTRAINT FK_role_permissions_permission FOREIGN KEY (PERMISSION_ID) REFERENCES ACCESS_MATRIX_PERMISSIONS(PERMISSION_ID) ON DELETE CASCADE,
    UNIQUE (ROLE_ID, PERMISSION_ID)
);

-- Contains task information, including ccratedby and soft-delete flag.


CREATE TABLE TASKS (
    TASK_ID INT AUTO_INCREMENT PRIMARY KEY,
    TITLE VARCHAR(255) NOT NULL,
    DESCRIPTION TEXT, -- Corrected typo from DESECRIPTION to DESCRIPTION
    STATUS ENUM('pending', 'in-progress', 'completed', 'blocked') DEFAULT 'pending', 
    CREATED_BY INT, 
    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    IS_DELETED BOOLEAN DEFAULT FALSE, 
    DELETED_AT TIMESTAMP NULL, 
    CONSTRAINT FK_task_created_by FOREIGN KEY (CREATED_BY) REFERENCES ACCESS_MATRIX(ACCESS_ID) ON DELETE SET NULL
);

We will need to put in some data like the users and the roles/permissions.

INSERT INTO ACCESS_MATRIX (USERNAME, PW_HASH, EMAIL, IS_ACTIVE) VALUES
('admin', 'your_hashed_admin_password', 'admin@yourcompany.com', TRUE),
('standard_user', 'your_hashed_user_password', 'user@yourcompany.com', TRUE);

INSERT INTO ACCESS_MATRIX_ROLES (ROLE_NAME, DESCRIPTION) VALUES
('Admin', 'User with all permissions in the system'),
('Standard User', 'User with limited permissions, typically for their own tasks');

INSERT INTO ACCESS_MATRIX_PERMISSIONS (PERMISSION_NAME, DESCRIPTION) VALUES
('Create Task', 'Ability to create new tasks'),
('Update Task', 'Ability to modify existing tasks'),
('Delete Task', 'Ability to soft-delete tasks'),
('Read Task', 'Ability to view individual tasks'),
('Read_All_Tasks', 'Ability to view all tasks in the system');
('Administrator Rights', 'Full Admin Rights');


INSERT INTO ACCESS_MATRIX_USR_ROLES (ACCESS_ID, ROLE_ID) VALUES
((SELECT ACCESS_ID FROM ACCESS_MATRIX WHERE USERNAME = 'admin'), (SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin')),
((SELECT ACCESS_ID FROM ACCESS_MATRIX WHERE USERNAME = 'standard_user'), (SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Standard User'));

INSERT INTO ACCESS_MATRIX_ROLE_PERMS (ROLE_ID, PERMISSION_ID) VALUES
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Create Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Update Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Delete Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Read Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Read_All_Tasks'));
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Admin'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Administrator Rights'));

INSERT INTO ACCESS_MATRIX_ROLE_PERMS (ROLE_ID, PERMISSION_ID) VALUES
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Standard User'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Create Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Standard User'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Update Task')),
((SELECT ROLE_ID FROM ACCESS_MATRIX_ROLES WHERE ROLE_NAME = 'Standard User'), (SELECT PERMISSION_ID FROM ACCESS_MATRIX_PERMISSIONS WHERE PERMISSION_NAME = 'Read Task'));
